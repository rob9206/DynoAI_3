# DynoAI Production Environment Configuration
# Copy to .env and customize for production deployment
# NEVER commit actual .env files to version control!

# =============================================================================
# Server Configuration
# =============================================================================
DYNOAI_HOST=0.0.0.0
DYNOAI_PORT=5001
DYNOAI_DEBUG=false
FLASK_ENV=production

# =============================================================================
# Logging Configuration  
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=production  # JSON format for log aggregation

# =============================================================================
# Security & Authentication
# =============================================================================
# ⚠️ REQUIRED FOR PRODUCTION
API_AUTH_ENABLED=true
API_KEYS=  # Comma-separated list or leave empty to use file
API_KEYS_FILE=/etc/dynoai/api_keys.txt

# ⚠️ REQUIRED - Generate with: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=CHANGE_THIS_TO_A_RANDOM_SECRET_KEY

# =============================================================================
# Rate Limiting
# =============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_DEFAULT=100/minute
RATE_LIMIT_EXPENSIVE=5/minute;20/hour
# Use Redis for distributed deployments
RATE_LIMIT_STORAGE=redis://redis:6379

# =============================================================================
# Storage Configuration
# =============================================================================
DYNOAI_UPLOAD_DIR=/var/dynoai/uploads
DYNOAI_OUTPUT_DIR=/var/dynoai/outputs
DYNOAI_RUNS_DIR=/var/dynoai/runs
DYNOAI_MAX_UPLOAD_MB=50

# =============================================================================
# CORS Configuration
# =============================================================================
# ⚠️ RESTRICT TO YOUR DOMAIN IN PRODUCTION
DYNOAI_CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# =============================================================================
# Database (Recommended for production)
# =============================================================================
# Use PostgreSQL for production
DATABASE_URL=postgresql://dynoai:password@postgres:5432/dynoai

# =============================================================================
# Jetstream Integration
# =============================================================================
JETSTREAM_ENABLED=true
JETSTREAM_STUB_MODE=false
JETSTREAM_API_URL=https://api.dynojet.com
JETSTREAM_API_KEY=your_jetstream_api_key
JETSTREAM_POLL_INTERVAL=30
JETSTREAM_AUTO_PROCESS=true

# =============================================================================
# JetDrive Hardware
# =============================================================================
JETDRIVE_MCAST_GROUP=224.0.2.10
JETDRIVE_PORT=22344
JETDRIVE_IFACE=0.0.0.0
JETDRIVE_TIMEOUT=5

# =============================================================================
# xAI (Grok) Integration
# =============================================================================
XAI_ENABLED=false
XAI_API_KEY=
XAI_API_URL=https://api.x.ai/v1/chat/completions
XAI_MODEL=grok-beta

# =============================================================================
# Metrics & Monitoring
# =============================================================================
PROMETHEUS_METRICS_ENABLED=true
PROMETHEUS_METRICS_PORT=9090

# =============================================================================
# Feature Flags
# =============================================================================
FEATURE_VIRTUAL_ECU=true
FEATURE_CLOSED_LOOP=true
FEATURE_AUDIO_ENGINE=true
FEATURE_SESSION_REPLAY=true

# =============================================================================
# Performance Tuning
# =============================================================================
WORKERS=4  # Adjust based on CPU cores (2-4 per core)
THREADS=2
MAX_CONTENT_LENGTH=52428800  # 50MB
