# =============================================================================
# DynoAI Environment Configuration
# =============================================================================
# Copy this file to .env in the project root and customize for your environment
#
# Quick Start:
#   cp config/env.example .env
#   # Edit .env with your settings
#   python -m api.app
# =============================================================================

# =============================================================================
# Server Configuration
# =============================================================================
# Host to bind the server to (use 0.0.0.0 for all interfaces)
DYNOAI_HOST=0.0.0.0

# Port for the API server
DYNOAI_PORT=5001

# Enable debug mode (NEVER set to true in production!)
# Debug mode exposes stack traces and enables hot reloading
DYNOAI_DEBUG=false

# =============================================================================
# Logging Configuration
# =============================================================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log format: "development" (human-readable) or "production" (JSON structured)
LOG_FORMAT=development

# =============================================================================
# Rate Limiting
# =============================================================================
# Enable rate limiting (recommended for production)
RATE_LIMIT_ENABLED=true

# Default rate limit for all endpoints
# Format: "requests/period" (e.g., "100/minute", "1000/hour")
RATE_LIMIT_DEFAULT=100/minute

# Rate limit for expensive operations (analysis, file upload)
# Multiple limits separated by semicolon
RATE_LIMIT_EXPENSIVE=5/minute;20/hour

# Rate limit storage backend
# - "memory://" for single instance (development)
# - "redis://localhost:6379" for distributed (production)
RATE_LIMIT_STORAGE=memory://

# =============================================================================
# Storage Configuration
# =============================================================================
# Directory for uploaded files
DYNOAI_UPLOAD_DIR=uploads

# Directory for analysis output files
DYNOAI_OUTPUT_DIR=outputs

# Directory for run metadata and results
DYNOAI_RUNS_DIR=runs

# Maximum file upload size in megabytes
DYNOAI_MAX_UPLOAD_MB=50

# =============================================================================
# CORS Configuration
# =============================================================================
# Allowed origins for CORS (comma-separated)
# Use "*" for development, specific origins for production
# Example: https://dynoai.example.com,https://admin.example.com
DYNOAI_CORS_ORIGINS=*

# =============================================================================
# Analysis Configuration (Advanced)
# =============================================================================
# Default smoothing passes for VE correction
DYNOAI_SMOOTH_PASSES=2

# Default clamp value for corrections (percentage)
DYNOAI_CLAMP=15.0

# Rear cylinder bias adjustment
DYNOAI_REAR_BIAS=0.0

# Rear cylinder rule degrees
DYNOAI_REAR_RULE_DEG=2.0

# Hot condition extra adjustment
DYNOAI_HOT_EXTRA=-1.0

# =============================================================================
# JetDrive Hardware Connection (Dynoware RT)
# =============================================================================
# Multicast group for JetDrive protocol (default works for most setups)
JETDRIVE_MCAST_GROUP=239.255.60.60

# UDP port for JetDrive communication
JETDRIVE_PORT=22344

# Network interface to bind for JetDrive communication
# - 0.0.0.0 = Listen on all interfaces (recommended for most setups)
# - 169.254.x.x = Use specific link-local IP if dyno is on direct Ethernet connection
# - Your network IP = Bind to specific interface if multiple NICs
JETDRIVE_IFACE=0.0.0.0

# =============================================================================
# Jetstream Integration
# =============================================================================
# Enable Jetstream cloud integration
JETSTREAM_ENABLED=false

# Enable stub mode for development/testing (simulated data)
JETSTREAM_STUB_MODE=true

# Jetstream API endpoint URL
JETSTREAM_API_URL=

# Jetstream API authentication key (keep secret!)
JETSTREAM_API_KEY=

# Polling interval in seconds for checking new runs
JETSTREAM_POLL_INTERVAL=30

# Automatically start processing when new runs are detected
JETSTREAM_AUTO_PROCESS=true

# =============================================================================
# xAI (Grok) Integration
# =============================================================================
# Enable xAI/Grok AI assistant features
XAI_ENABLED=false

# xAI API key (keep secret!)
XAI_API_KEY=

# xAI API endpoint URL
XAI_API_URL=https://api.x.ai/v1/chat/completions

# xAI model to use
XAI_MODEL=grok-beta

# =============================================================================
# Docker/Deployment Configuration
# =============================================================================
# External port for API (used by docker-compose)
API_PORT=5001

# External port for frontend (used by docker-compose)
FRONTEND_PORT=80

# Frontend API URL (for docker builds)
VITE_API_URL=

# =============================================================================
# Redis Configuration (for distributed rate limiting)
# =============================================================================
# Redis host for distributed rate limiting and caching
REDIS_HOST=localhost

# Redis port
REDIS_PORT=6379

# Redis password (leave empty if no auth)
REDIS_PASSWORD=

# Redis database number (0-15)
REDIS_DB=0




