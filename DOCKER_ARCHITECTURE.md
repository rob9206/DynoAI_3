# DynoAI Docker Architecture

Visual guide to understanding DynoAI's Docker deployment architecture.

## ğŸ—ï¸ System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          Host Machine (Windows)                      â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    Docker Engine                                â”‚ â”‚
â”‚  â”‚                                                                  â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚   Frontend   â”‚  â”‚   Backend    â”‚  â”‚       Redis          â”‚ â”‚ â”‚
â”‚  â”‚  â”‚   Container  â”‚  â”‚   Container  â”‚  â”‚     Container        â”‚ â”‚ â”‚
â”‚  â”‚  â”‚              â”‚  â”‚              â”‚  â”‚                      â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  Nginx:80    â”‚  â”‚  Python:5001 â”‚  â”‚    Redis:6379       â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  (Prod)      â”‚  â”‚              â”‚  â”‚                      â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  or          â”‚  â”‚              â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  Vite:5173   â”‚  â”‚              â”‚  â”‚  â”‚ Rate Limiting  â”‚  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  (Dev)       â”‚  â”‚              â”‚  â”‚  â”‚ Caching        â”‚  â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚         â”‚                 â”‚                      â”‚           â”‚ â”‚
â”‚  â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚ â”‚
â”‚  â”‚                           â”‚                                  â”‚ â”‚
â”‚  â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚ â”‚
â”‚  â”‚              â”‚  dynoai-network (bridge)â”‚                     â”‚ â”‚
â”‚  â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚ â”‚
â”‚  â”‚                                                              â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚              Docker Volumes                            â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                                                        â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  dynoai-uploads   dynoai-outputs   dynoai-runs       â”‚ â”‚ â”‚
â”‚  â”‚  â”‚     dynoai-redis      (optional: dynoai-postgres)    â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              Network Interfaces                            â”‚   â”‚
â”‚  â”‚                                                            â”‚   â”‚
â”‚  â”‚  localhost:80      â†’ Frontend                             â”‚   â”‚
â”‚  â”‚  localhost:5001    â†’ Backend API                          â”‚   â”‚
â”‚  â”‚  localhost:6379    â†’ Redis                                â”‚   â”‚
â”‚  â”‚  0.0.0.0:22344     â†’ JetDrive UDP (if enabled)           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚        External Hardware (JetDrive Mode)                   â”‚   â”‚
â”‚  â”‚                                                            â”‚   â”‚
â”‚  â”‚  192.168.1.115:22344  â†’ Dynojet Dynoware RT-150          â”‚   â”‚
â”‚  â”‚  UDP Multicast: 239.255.60.60                            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ Data Flow - Standard Mode

```
User Browser
    â”‚
    â”‚ HTTP/HTTPS
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend      â”‚  Port 80 (prod) or 5173 (dev)
â”‚   (Nginx/Vite)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ REST API
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Backend API   â”‚  Port 5001
â”‚   (Flask/Python)â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚   â”‚
     â”‚   â”‚ Cache/Rate Limit
     â”‚   â–¼
     â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ â”‚  Redis  â”‚  Port 6379
     â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â”‚ File I/O
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Docker Volumes â”‚
â”‚  - uploads/     â”‚
â”‚  - outputs/     â”‚
â”‚  - runs/        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“¡ Data Flow - JetDrive Mode

```
Dynojet Dynoware RT-150 (192.168.1.115)
    â”‚
    â”‚ UDP Multicast (239.255.60.60:22344)
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Host Network (Windows)             â”‚
â”‚                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚   â”‚  Backend API     â”‚              â”‚
â”‚   â”‚  (Host Network)  â”‚  Port 22344  â”‚
â”‚   â”‚                  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€ UDP Packets
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚              â”‚
â”‚   â”‚  â”‚ JetDrive   â”‚  â”‚              â”‚
â”‚   â”‚  â”‚ Listener   â”‚  â”‚              â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â”‚              â”‚
â”‚   â”‚         â”‚        â”‚              â”‚
â”‚   â”‚         â–¼        â”‚              â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚              â”‚
â”‚   â”‚  â”‚ Auto-Tune  â”‚  â”‚              â”‚
â”‚   â”‚  â”‚ Workflow   â”‚  â”‚              â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â”‚              â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚             â”‚                        â”‚
â”‚             â–¼                        â”‚
â”‚      REST API (5001)                 â”‚
â”‚             â”‚                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
         User Browser
```

## ğŸ¢ Container Architecture

### Frontend Container

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend Container                     â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Production Stage               â”‚   â”‚
â”‚  â”‚                                 â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚   â”‚
â”‚  â”‚  â”‚  Nginx           â”‚          â”‚   â”‚
â”‚  â”‚  â”‚  - Serves static â”‚          â”‚   â”‚
â”‚  â”‚  â”‚  - Reverse proxy â”‚          â”‚   â”‚
â”‚  â”‚  â”‚  - Health checks â”‚          â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚   â”‚
â”‚  â”‚                                 â”‚   â”‚
â”‚  â”‚  /usr/share/nginx/html/        â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ index.html                â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ assets/                   â”‚   â”‚
â”‚  â”‚  â””â”€â”€ ...                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                         â”‚
â”‚  OR (Development)                       â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Development Stage              â”‚   â”‚
â”‚  â”‚                                 â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚   â”‚
â”‚  â”‚  â”‚  Vite Dev Server â”‚          â”‚   â”‚
â”‚  â”‚  â”‚  - Hot reload    â”‚          â”‚   â”‚
â”‚  â”‚  â”‚  - Source maps   â”‚          â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚   â”‚
â”‚  â”‚                                 â”‚   â”‚
â”‚  â”‚  /app/src/ (mounted)           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                         â”‚
â”‚  User: dynoai (1000:1000)              â”‚
â”‚  Ports: 80 (prod) or 5173 (dev)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Backend Container

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Backend Container                      â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Python 3.11 Environment        â”‚   â”‚
â”‚  â”‚                                 â”‚   â”‚
â”‚  â”‚  /app/                          â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ api/                       â”‚   â”‚
â”‚  â”‚  â”‚   â”œâ”€â”€ app.py                â”‚   â”‚
â”‚  â”‚  â”‚   â”œâ”€â”€ routes/               â”‚   â”‚
â”‚  â”‚  â”‚   â””â”€â”€ services/             â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ dynoai/                   â”‚   â”‚
â”‚  â”‚  â”‚   â””â”€â”€ core/                 â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ uploads/    (volume)      â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ outputs/    (volume)      â”‚   â”‚
â”‚  â”‚  â””â”€â”€ runs/       (volume)      â”‚   â”‚
â”‚  â”‚                                 â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚   â”‚
â”‚  â”‚  â”‚  Flask App       â”‚          â”‚   â”‚
â”‚  â”‚  â”‚  - REST API      â”‚          â”‚   â”‚
â”‚  â”‚  â”‚  - Health checks â”‚          â”‚   â”‚
â”‚  â”‚  â”‚  - JetDrive      â”‚          â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                         â”‚
â”‚  User: dynoai (1000:1000)              â”‚
â”‚  Port: 5001                             â”‚
â”‚  Health: /api/health/ready              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Redis Container

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Redis Container                        â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Redis 7 Alpine                 â”‚   â”‚
â”‚  â”‚                                 â”‚   â”‚
â”‚  â”‚  /data/ (volume: dynoai-redis) â”‚   â”‚
â”‚  â”‚                                 â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚   â”‚
â”‚  â”‚  â”‚  Redis Server    â”‚          â”‚   â”‚
â”‚  â”‚  â”‚  - Rate limits   â”‚          â”‚   â”‚
â”‚  â”‚  â”‚  - Caching       â”‚          â”‚   â”‚
â”‚  â”‚  â”‚  - LRU eviction  â”‚          â”‚   â”‚
â”‚  â”‚  â”‚  - Max 256MB     â”‚          â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                         â”‚
â”‚  Port: 6379                             â”‚
â”‚  Health: redis-cli ping                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸŒ Network Modes Comparison

### Bridge Network (Standard)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Docker Bridge Network (dynoai-network)     â”‚
â”‚                                              â”‚
â”‚  172.18.0.0/16 (example subnet)             â”‚
â”‚                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Frontend   â”‚  â”‚ Backend    â”‚  â”‚ Redis  â”‚â”‚
â”‚  â”‚ 172.18.0.2 â”‚  â”‚ 172.18.0.3 â”‚  â”‚.18.0.4 â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜â”‚
â”‚         â”‚               â”‚             â”‚     â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                         â”‚                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                    Port Mapping
                          â”‚
                    Host: localhost
                    
âœ“ Isolation between containers
âœ“ Port mapping to host
âœ“ Container name resolution
âœ— No UDP multicast support
```

### Host Network (JetDrive)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Host Network (Windows Network Stack)       â”‚
â”‚                                              â”‚
â”‚  All host IPs and interfaces                â”‚
â”‚                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Backend Container                     â”‚ â”‚
â”‚  â”‚  (Direct host network access)          â”‚ â”‚
â”‚  â”‚                                        â”‚ â”‚
â”‚  â”‚  - Binds to 0.0.0.0:5001              â”‚ â”‚
â”‚  â”‚  - Binds to 0.0.0.0:22344 (UDP)       â”‚ â”‚
â”‚  â”‚  - Joins multicast 239.255.60.60      â”‚ â”‚
â”‚  â”‚  - No NAT, no port mapping            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â”‚ UDP Multicast
          â–¼
    Dynoware RT-150
    (192.168.1.115)

âœ“ UDP multicast support
âœ“ Direct hardware access
âœ“ No port mapping needed
âš  Less isolation
âš  Windows Docker Desktop limitations
```

## ğŸ“¦ Volume Management

### Named Volumes (Production)

```
Docker Managed Storage
â”œâ”€â”€ dynoai-uploads/
â”‚   â””â”€â”€ [user CSV uploads]
â”œâ”€â”€ dynoai-outputs/
â”‚   â””â”€â”€ [generated corrections]
â”œâ”€â”€ dynoai-runs/
â”‚   â””â”€â”€ [analysis metadata]
â””â”€â”€ dynoai-redis/
    â””â”€â”€ [Redis persistence]

Location: Docker Desktop WSL2 VM
Access: via container or docker run
Backup: docker run --rm -v dynoai-uploads:/data -v ./backup:/backup alpine tar czf /backup/uploads.tar.gz /data
```

### Bind Mounts (Development)

```
Local Filesystem (C:\Dev\DynoAI_3)
â”œâ”€â”€ uploads/        â†’ /app/uploads
â”œâ”€â”€ outputs/        â†’ /app/outputs
â””â”€â”€ runs/           â†’ /app/runs

Location: Your Windows filesystem
Access: Direct file access
Backup: Standard file copy
```

## ğŸš€ Startup Sequence

### Development Mode

```
1. .\start-docker-dev.ps1 -Build
   â”‚
   â”œâ”€â–º Check .env exists (create if missing)
   â”‚
   â”œâ”€â–º docker-compose -f docker-compose.yml -f docker-compose.dev.yml up --build
   â”‚   â”‚
   â”‚   â”œâ”€â–º Build frontend (deps â†’ builder â†’ development)
   â”‚   â”‚   â””â”€â–º npm ci && copy source
   â”‚   â”‚
   â”‚   â”œâ”€â–º Build backend (builder â†’ development)
   â”‚   â”‚   â””â”€â–º pip install && copy source
   â”‚   â”‚
   â”‚   â””â”€â–º Pull redis:7-alpine
   â”‚
   â”œâ”€â–º Start containers
   â”‚   â”‚
   â”‚   â”œâ”€â–º Redis (first, no dependencies)
   â”‚   â”‚   â””â”€â–º Health check: redis-cli ping
   â”‚   â”‚
   â”‚   â”œâ”€â–º Backend (depends on redis healthy)
   â”‚   â”‚   â”œâ”€â–º Mount source volumes
   â”‚   â”‚   â”œâ”€â–º Start Flask dev server
   â”‚   â”‚   â””â”€â–º Health check: curl /api/health/ready
   â”‚   â”‚
   â”‚   â””â”€â–º Frontend (depends on api)
   â”‚       â”œâ”€â–º Mount source volumes
   â”‚       â”œâ”€â–º Start Vite dev server
   â”‚       â””â”€â–º Ready on port 5173
   â”‚
   â””â”€â–º Display status and URLs
```

### Production Mode

```
1. .\start-docker-prod.ps1 -Build
   â”‚
   â”œâ”€â–º Check .env exists (fail if missing)
   â”‚
   â”œâ”€â–º docker-compose up -d --build
   â”‚   â”‚
   â”‚   â”œâ”€â–º Build frontend (deps â†’ builder â†’ production)
   â”‚   â”‚   â”œâ”€â–º npm ci
   â”‚   â”‚   â”œâ”€â–º npm run build
   â”‚   â”‚   â””â”€â–º Copy dist to nginx
   â”‚   â”‚
   â”‚   â”œâ”€â–º Build backend (builder â†’ production)
   â”‚   â”‚   â”œâ”€â–º pip install
   â”‚   â”‚   â””â”€â–º Copy application
   â”‚   â”‚
   â”‚   â””â”€â–º Pull redis:7-alpine
   â”‚
   â”œâ”€â–º Start containers (detached)
   â”‚   â”‚
   â”‚   â”œâ”€â–º Redis
   â”‚   â”œâ”€â–º Backend
   â”‚   â””â”€â–º Frontend (Nginx)
   â”‚
   â”œâ”€â–º Wait for health checks (30s max)
   â”‚   â”‚
   â”‚   â””â”€â–º Poll http://localhost:5001/api/health
   â”‚
   â””â”€â–º Display status and URLs
```

## ğŸ” Health Check Flow

```
Docker Engine
    â”‚
    â”‚ Every 30s
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Container      â”‚
â”‚                 â”‚
â”‚  Healthcheck:   â”‚
â”‚  curl -f        â”‚
â”‚  /api/health    â”‚
â”‚                 â”‚
â”‚  Retries: 3     â”‚
â”‚  Timeout: 10s   â”‚
â”‚  Start: 5s      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€â–º Success â†’ Status: healthy
         â”‚
         â”œâ”€â–º Fail (retries < 3) â†’ Status: unhealthy
         â”‚
         â””â”€â–º Fail (retries = 3) â†’ Container marked unhealthy
                                  (can trigger restart)
```

## ğŸ” Security Layers

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Security Layer 1: Network Isolation       â”‚
â”‚  - Bridge network (isolated subnet)        â”‚
â”‚  - Only exposed ports accessible           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Security Layer 2: Non-root User           â”‚
â”‚  - Containers run as dynoai (1000:1000)    â”‚
â”‚  - No root privileges                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Security Layer 3: Read-only Mounts        â”‚
â”‚  - Source code mounted read-only (dev)     â”‚
â”‚  - Config mounted read-only                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Security Layer 4: Secrets Management      â”‚
â”‚  - .env file (not in image)                â”‚
â”‚  - Environment variables                   â”‚
â”‚  - No hardcoded secrets                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Security Layer 5: Rate Limiting           â”‚
â”‚  - Redis-based rate limiting               â”‚
â”‚  - Per-endpoint limits                     â”‚
â”‚  - DDoS protection                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š Resource Allocation

```
Default Resource Limits (adjust in docker-compose.override.yml)

Frontend Container
â”œâ”€â”€ CPU: Shared (2% avg, 20% peak)
â”œâ”€â”€ Memory: 128MB (dev: 256MB)
â””â”€â”€ Disk: ~200MB (image + cache)

Backend Container
â”œâ”€â”€ CPU: Shared (5% avg, 50% peak)
â”œâ”€â”€ Memory: 512MB (dev: 1GB)
â””â”€â”€ Disk: ~500MB (image + venv)

Redis Container
â”œâ”€â”€ CPU: Shared (1% avg, 10% peak)
â”œâ”€â”€ Memory: 256MB (max configured)
â””â”€â”€ Disk: ~50MB (image + data)

Total Resources
â”œâ”€â”€ CPU: 2 cores minimum
â”œâ”€â”€ Memory: 4GB minimum (8GB recommended)
â””â”€â”€ Disk: 10GB minimum (20GB recommended)
```

---

**Created**: 2026-01-09  
**Purpose**: Visual reference for Docker architecture  
**Audience**: Developers and DevOps  
**Version**: 1.0
